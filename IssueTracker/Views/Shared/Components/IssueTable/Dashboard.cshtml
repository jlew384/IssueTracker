@using System.Security.Claims;
@using IssueTracker.Helpers;
@using IssueTracker.Constants;
@model IssueTableComponentViewModel

@{
    ViewData["Title"] = "Index";
    var user = User as ClaimsPrincipal;
    string userId = user.FindFirst(ClaimTypes.NameIdentifier).Value;
    var ownerClaimValues = user.Claims
         .Where(c => c.Type == UserClaimTypes.PROJECT_OWNER)
         .Select(c => Int32.Parse(c.Value))
         .ToList();

       
}

<ul class="list-group">
    @foreach(Issue issue in Model.Issues)
    {
        <a class="text-decoration-none" asp-controller="Issue" asp-action="Edit" asp-route-id="@issue.Id">
            <li class="list-group-item d-flex justify-content-between">
                <span>
                    @issue.Title
                </span>
                @switch(issue.Status)
                {
                    case IssueStatus.TO_DO:
                        <span class="fw-bold text-success">
                            @issue.Status
                        </span>
                        break;
                    case IssueStatus.IN_PROGRESS:
                        <span class="fw-bold text-info">
                            @issue.Status
                        </span>
                        break;
                    case IssueStatus.DONE:
                        <span class="fw-bold text-secondary">
                            @issue.Status
                        </span>
                        break;
                }
                
            </li>
        </a>
    }
</ul>
